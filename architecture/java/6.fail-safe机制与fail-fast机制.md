# fail-safe机制与fail-fast机制？
多线程并发操作集合时的一种失败处理机制
fail-fast 表示快速失败，在集合遍历的过程中，一旦发现容器中的数据被修改过了，就会立刻抛出一个异常叫ConcurrentModificationException，从而导致整个遍历过程是失败的，而java.util包下的集合类都是属于快速失败机制的，常见的使用这种机制的有ArrayList、HashMap等
fail-safe 表示的是一个失败安全，也就是说再这样的机制下出现集合元素的修改不会抛出ConcurrentModificationException异常，原因是采用安全失败机制的集合容器在遍历的时候不是只直接在集合内容上进行访问，而是先复制原有集合的内容，而在拷贝的集合上去进行遍历，由于迭代器是对原始集合的拷贝去进行遍历的，所在在遍历的过程中，对原始集合的修改并不能被迭代器检测到，常见的使用这种机制的有CurrentHashMap、CopyOnWriteArrayList等